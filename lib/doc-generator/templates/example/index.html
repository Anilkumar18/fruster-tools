<!DOCTYPE html>
<html>
<head>
	<title>{{title}}</title>
	<link rel="stylesheet" type="text/css" href="../assets/main.css" />
</head>
<body>

<nav class="navbar">
	<ul>
		<li><a href="" class="active">Service docs</a></li>
		<li><a href="">REST API docs</a></li>
	</ul>
</nav>

<div class="sidebar">
	<ul>
		<li><a href="">User service</a></li>
		<li><a href="">User service</a></li>
		<li><a href="">User service</a></li>
		<li><a href="">User service</a></li>
	</ul>
</div>

<div class="content">
	<article>
		<h1>Fruster user service</h1>
		
		<p>Service for handling creation, fetching, updating and deletion of users and validation of users' passwords.</p>

		<section class="subject" id="user-service.create-user">
			<h2>user-service.create-user</h2>
			<p>Create a user. Fields <code>firstname</code>, <code>lastName</code>, <code>email</code> and <code>password</code> are required. Roles are validated according to environment variable <code>ROLE_SCOPES</code>. Password is validated according to regex in environment variable <code>PASSWORD_VALIDATION_REGEX</code>. Email is validated according to regex in environment variable <code>EMAIL_VALIDATION_REGEX</code>.</p>

			<p>See Configuration in readme for default values. Fields firstname, middleName, lastName and email are saved as lowercase in the database.</p> 

			<p>NOTE: The password is hashed using the user's unique salt and a pepper containing (NOT exclusive to) the id of the user.</p>


			<h3>Examples</h3>

			<p>Create a user</p>

			<div class="code-block">
				<div class="code-block-nav">
					<a href="" class="active">REQUEST</a>
					<a href="">RESPONSE</a>
				</div>
				<div class="code-content">
					<div class="desc">
						<code>// An optional description about this particular example request</code>
					</div>
					
					<pre><code>{
  data:   {
      "roles": ["ADMIN"],
      "firstName": "Viktor",
      "middleName": "Ludvig", 
      "lastName": "Söderström",
      "email": "viktors@frostdigital.se",
      "password": "Localhost:8080"
  }
}</code></pre>

				</div>
			</div>

			<table>
				<thead>
					<tr>
						<th>SCOPES</th>						
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>admin.*</td>
					</tr>
				</tbody>
			</table>

			<table>
				<thead>
					<tr>
						<th>ERROR CODES</th>						
						<th>Status</th>						
						<th>Title</th>						
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>user-service.USER_NOT_UPDATED</td>
						<td>400</td>
						<td>User not updated</td>
					</tr>
					<tr>
						<td>user-service.USER_NOT_UPDATED</td>
						<td>400</td>
						<td>User not updated</td>
					</tr>
					<tr>
						<td>user-service.INTERNAL_SERVER_ERROR</td>
						<td>500</td>
						<td>Something that should not broke just broke</td>
					</tr>
				</tbody>
			</table>			
		</section>

	</article>
</div>

</body>
</html>